!function(_,w,$){"use strict";var c=/^.*(youtu\.be\/|youtube\.com\/v\/|youtube\.com\/embed\/|youtube\.com\/watch\?v=|youtube\.com\/watch\?.*\&v=)([^#\&\?]*).*/i;_.fn.backstretch=function(o,n){var s,h=arguments;return 0===_(w).scrollTop()&&w.scrollTo(0,0),this.each(function(t){var e=_(this),i=e.data("backstretch");if(i){if("string"==typeof h[0]&&"function"==typeof i[h[0]]){var r=i[h[0]].apply(i,Array.prototype.slice.call(h,1));return r===i&&(r=$),void(r!==$&&((s=s||[])[t]=r))}n=_.extend(i.options,n),"object"==typeof i&&"destroy"in i&&i.destroy(!0)}if(!o||o&&0===o.length){var a=e.css("background-image");a&&"none"!==a?o=[{url:e.css("backgroundImage").replace(/url\(|\)|"|'/g,"")}]:_.error("No images were supplied for Backstretch, or element must have a CSS-defined background image.")}i=new f(this,o,n||{}),e.data("backstretch",i)}),s?1===s.length?s[0]:s:this},_.backstretch=function(t,e){return _("body").backstretch(t,e).data("backstretch")},_.expr[":"].backstretch=function(t){return _(t).data("backstretch")!==$},_.fn.backstretch.defaults={duration:5e3,transition:"fade",transitionDuration:0,animateFirst:!0,alignX:.5,alignY:.5,paused:!1,start:0,preload:2,preloadSize:1,resolutionRefreshRate:2500,resolutionChangeRatioThreshold:.1};var d,s={wrap:{left:0,top:0,overflow:"hidden",margin:0,padding:0,height:"100%",width:"100%",zIndex:-999999},itemWrapper:{position:"absolute",display:"none",margin:0,padding:0,border:"none",width:"100%",height:"100%",zIndex:-999999},item:{position:"absolute",margin:0,padding:0,border:"none",width:"100%",height:"100%",maxWidth:"none"}},T=(d=function(t,e){if("string"==typeof t)t=t.replace(/{{(width|height)}}/g,e);else if(t instanceof Array)for(var i=0;i<t.length;i++)t[i].src?t[i].src=d(t[i].src,e):t[i]=d(t[i],e);return t},function(t,e){for(var i=t.width(),r=t.height(),a=[],o=function(t,e){return"width"===e?i:"height"===e?r:t},n=0;n<e.length;n++)if(_.isArray(e[n])){e[n]=l(e[n]);var s=u(i,r,e[n]);a.push(s)}else{"string"==typeof e[n]&&(e[n]={url:e[n]});var h=_.extend({},e[n]);h.url=d(h.url,o),a.push(h)}return a});function l(t){for(var e=1;e<t.length;e++){for(var i=t[e],r=e;t[r-1]&&parseInt(t[r-1].width,10)>parseInt(i.width,10);)t[r]=t[r-1],--r;t[r]=i}return t}function u(t,e,i){for(var r,a,o=w.devicePixelRatio||1,n=C(),s=(S(),t<e?"portrait":e<t?"landscape":"square"),h=0,c=0;c<i.length&&("string"==typeof(a=i[c])&&(a=i[c]={url:a}),a.pixelRatio&&"auto"!==a.pixelRatio&&parseFloat(a.pixelRatio)!==o||a.deviceOrientation&&a.deviceOrientation!==n||a.windowOrientation&&a.windowOrientation!==n||a.orientation&&a.orientation!==s||(h=c,r=t,"auto"===a.pixelRatio&&(t*=o),!(a.width>=r)));c++);return i[Math.min(c,h)]}function m(t){return c.test(t.url)||t.isVideo}var i,k=(i=[],function t(e,i,r,a,o){if(void 0!==e){_.isArray(e)||(e=[e]),arguments.length<5&&"function"==typeof arguments[arguments.length-1]&&(o=arguments[arguments.length-1]),i="function"!=typeof i&&i?i:0,r="function"==typeof r||!r||r<0?e.length:Math.min(r,e.length),a="function"!=typeof a&&a?a:1,i>=e.length&&(r=i=0),a<0&&(a=r),a=Math.min(a,r);var n=e.slice(i+a,r-a);if(e=e.slice(i,a),r=e.length)for(var s,h=0,c=function(){++h===r&&(g(e,o,!n),t(n,0,0,a,o))},d=0;d<e.length;d++)m(e[d])||((s=new Image).src=e[d].url,(s=p(s)).complete?c():_(s).on("load error",c));else g(e,o,!0)}});function p(t){for(var e=0;e<i.length;e++)if(i[e].src===t.src)return i[e];return i.push(t),t}function g(t,e,i){"function"==typeof e&&e.call(t,i)}var h=function(t){for(var e=[],i=0;i<t.length;i++)"string"==typeof t[i]?e.push({url:t[i]}):_.isArray(t[i])?e.push(h(t[i])):e.push(y(t[i]));return e},y=function(t,e){return(t.centeredX||t.centeredY)&&(w.console&&w.console.log&&w.console.log("jquery.backstretch: `centeredX`/`centeredY` is deprecated, please use `alignX`/`alignY`"),t.centeredX&&(t.alignX=.5),t.centeredY&&(t.alignY=.5)),t.speed!==$&&(w.console&&w.console.log&&w.console.log("jquery.backstretch: `speed` is deprecated, please use `transitionDuration`"),t.transitionDuration=t.speed,t.transition="fade"),t.resolutionChangeRatioTreshold!==$&&(w.console.log("jquery.backstretch: `treshold` is a typo!"),t.resolutionChangeRatioThreshold=t.resolutionChangeRatioTreshold),t.fadeFirst!==$&&(t.animateFirst=t.fadeFirst),t.fade!==$&&(t.transitionDuration=t.fade,t.transition="fade"),t.scale&&(t.scale=x(t.scale)),r(t)},r=function(t,e){return"left"===t.alignX?t.alignX=0:"center"===t.alignX?t.alignX=.5:"right"===t.alignX?t.alignX=1:t.alignX===$&&!e||(t.alignX=parseFloat(t.alignX),isNaN(t.alignX)&&(t.alignX=.5)),"top"===t.alignY?t.alignY=0:"center"===t.alignY?t.alignY=.5:"bottom"===t.alignY?t.alignY=1:t.alignX===$&&!e||(t.alignY=parseFloat(t.alignY),isNaN(t.alignY)&&(t.alignY=.5)),t},e={cover:"cover",fit:"fit","fit-smaller":"fit-smaller",fill:"fill"};function x(t){return e.hasOwnProperty(t)?t:"cover"}var f=function(t,e,i){this.options=_.extend({},_.fn.backstretch.defaults,i||{}),this.firstShow=!0,y(this.options,!0),this.images=h(_.isArray(e)?e:[e]),this.options.paused&&(this.paused=!0),this.options.start>=this.images.length&&(this.options.start=this.images.length-1),this.options.start<0&&(this.options.start=0),this.isBody=t===document.body;var r=_(w);this.$container=_(t),this.$root=this.isBody?z?r:_(document):this.$container,this.originalImages=this.images,this.images=T(this.options.alwaysTestWindowResolution?r:this.$root,this.originalImages),k(this.images,this.options.start||0,this.options.preload||1);var a=this.$container.children(".backstretch").first();if(this.$wrap=a.length?a:_('<div class="backstretch"></div>').css(this.options.bypassCss?{}:s.wrap).appendTo(this.$container),!this.options.bypassCss){if(!this.isBody){var o=this.$container.css("position"),n=this.$container.css("zIndex");this.$container.css({position:"static"===o?"relative":o,zIndex:"auto"===n?0:n}),this.$wrap.css({zIndex:-999998})}this.$wrap.css({position:this.isBody&&z?"fixed":"absolute"})}this.index=this.options.start,this.show(this.index),r.on("resize.backstretch",_.proxy(this.resize,this)).on("orientationchange.backstretch",_.proxy(function(){this.isBody&&0===w.pageYOffset&&(w.scrollTo(0,1),this.resize())},this))};f.prototype={resize:function(){try{var t=this.options.alwaysTestWindowResolution?_(w):this.$root,e=t.width(),i=t.height(),r=e/(this._lastResizeContainerWidth||0),a=i/(this._lastResizeContainerHeight||0),o=this.options.resolutionChangeRatioThreshold||0;if((e!==this._lastResizeContainerWidth||i!==this._lastResizeContainerHeight)&&(Math.abs(r-1)>=o||isNaN(r)||Math.abs(a-1)>=o||isNaN(a))&&(this._lastResizeContainerWidth=e,this._lastResizeContainerHeight=i,this.images=T(t,this.originalImages),this.options.preload&&k(this.images,(this.index+1)%this.images.length,this.options.preload),1===this.images.length&&this._currentImage.url!==this.images[0].url)){var n=this;clearTimeout(n._selectAnotherResolutionTimeout),n._selectAnotherResolutionTimeout=setTimeout(function(){n.show(0)},this.options.resolutionRefreshRate)}var s,h,c={left:0,top:0,right:"auto",bottom:"auto"},d=this.isBody?this.$root.width():this.$root.innerWidth(),l=this.isBody?w.innerHeight?w.innerHeight:this.$root.height():this.$root.innerHeight(),u=this.$itemWrapper.data("width"),p=this.$itemWrapper.data("height"),g=u/p||1,y=this._currentImage.alignX===$?this.options.alignX:this._currentImage.alignX,f=this._currentImage.alignY===$?this.options.alignY:this._currentImage.alignY,m=x(this._currentImage.scale||this.options.scale);if("fit"===m||"fit-smaller"===m){if(h=p,d<(s=u)||l<h||"fit-smaller"===m){var v=d/l;h=g<v?(s=Math.floor(l*g),l):v<g?(s=d,Math.floor(d/g)):(s=d,l)}}else h="fill"===m?(s=d,l):(s=Math.max(l*g,d),Math.max(s/g,l));c.top=-(h-l)*f,c.left=-(s-d)*y,c.width=s,c.height=h,this.options.bypassCss||this.$wrap.css({width:d,height:l}).find(">.backstretch-item").not(".deleteable").each(function(){_(this).find("img,video,iframe").css(c)});var b=_.Event("backstretch.resize",{relatedTarget:this.$container[0]});this.$container.trigger(b,this)}catch(t){}return this},show:function(d,l){if(!(Math.abs(d)>this.images.length-1)){var u=this,p=u.$wrap.find(">.backstretch-item").addClass("deleteable"),g=u.videoWrapper,y={relatedTarget:u.$container[0]};u.$container.trigger(_.Event("backstretch.before",y),[u,d]),this.index=d;var t=u.images[d];clearTimeout(u._cycleTimeout),delete u.videoWrapper;var f=m(t);return f?(u.videoWrapper=new v(t),u.$item=u.videoWrapper.$video.css("pointer-events","none")):u.$item=_("<img />"),u.$itemWrapper=_('<div class="backstretch-item">').append(u.$item),this.options.bypassCss?u.$itemWrapper.css({display:"none"}):(u.$itemWrapper.css(s.itemWrapper),u.$item.css(s.item)),u.$item.on(f?"canplay":"load",function(t){var e=_(this).parent(),i=e.data("options");l&&(i=_.extend({},i,l));var r=this.naturalWidth||this.videoWidth||this.width,a=this.naturalHeight||this.videoHeight||this.height;e.data("width",r).data("height",a);function o(t){return i[t]!==$?i[t]:u.options[t]}function n(){g&&(g.stop(),g.destroy()),p.remove(),!u.paused&&1<u.images.length&&u.cycle(),u.options.bypassCss||u.isBody||u.$container.css("background-image","none"),_(["after","show"]).each(function(){u.$container.trigger(_.Event("backstretch."+this,y),[u,d])}),f&&u.videoWrapper.play()}var s=o("transition"),h=o("transitionEasing"),c=o("transitionDuration");u.firstShow&&!u.options.animateFirst||!c||!s?(e.show(),n()):function(t){var e=t.transition||"fade";"string"==typeof e&&-1<e.indexOf("|")&&(e=e.split("|")),e instanceof Array&&(e=e[Math.round(Math.random()*(e.length-1))]);var i=t.new,r=t.old?t.old:_([]);switch(e.toString().toLowerCase()){default:case"fade":i.fadeIn({duration:t.duration,complete:t.complete,easing:t.easing||$});break;case"fadeinout":case"fade_in_out":var a=function(){i.fadeIn({duration:t.duration/2,complete:t.complete,easing:t.easing||$})};r.length?r.fadeOut({duration:t.duration/2,complete:a,easing:t.easing||$}):a();break;case"pushleft":case"push_left":case"pushright":case"push_right":case"pushup":case"push_up":case"pushdown":case"push_down":case"coverleft":case"cover_left":case"coverright":case"cover_right":case"coverup":case"cover_up":case"coverdown":case"cover_down":var o=e.match(/^(cover|push)_?(.*)$/),n="left"===o[2]?"right":"right"===o[2]?"left":"down"===o[2]?"top":"up"===o[2]?"bottom":"right",s={display:""},h={};if(s[n]="-100%",h[n]=0,i.css(s).animate(h,{duration:t.duration,complete:function(){i.css(n,""),t.complete.apply(this,arguments)},easing:t.easing||$}),"push"===o[1]&&r.length){var c={};c[n]="100%",r.animate(c,{duration:t.duration,complete:function(){r.css("display","none")},easing:t.easing||$})}}}({new:e,old:p,transition:s,duration:c,easing:h,complete:n}),u.firstShow=!1,u.resize()}),u.$itemWrapper.appendTo(u.$wrap),u.$item.attr("alt",t.alt||""),u.$itemWrapper.data("options",t),f||u.$item.attr("src",t.url),u._currentImage=t,u}},current:function(){return this.index},next:function(){var t=Array.prototype.slice.call(arguments,0);return t.unshift(this.index<this.images.length-1?this.index+1:0),this.show.apply(this,t)},prev:function(){var t=Array.prototype.slice.call(arguments,0);return t.unshift(0===this.index?this.images.length-1:this.index-1),this.show.apply(this,t)},pause:function(){return this.paused=!0,this.videoWrapper&&this.videoWrapper.pause(),this},resume:function(){return this.paused=!1,this.videoWrapper&&this.videoWrapper.play(),this.cycle(),this},cycle:function(){if(1<this.images.length){clearTimeout(this._cycleTimeout);var t=this._currentImage&&this._currentImage.duration||this.options.duration,e=m(this._currentImage),i=function(){this.$item.off(".cycle"),this.paused||this.next()};if(e){if(!this._currentImage.loop){var r=0;this.$item.on("playing.cycle",function(){var t=_(this).data("player");clearTimeout(r),r=setTimeout(function(){t.pause(),t.$video.trigger("ended")},1e3*(t.getDuration()-t.getCurrentTime()))}).on("ended.cycle",function(){clearTimeout(r)})}this.$item.on("error.cycle initerror.cycle",_.proxy(i,this))}e&&!this._currentImage.duration?this.$item.on("ended.cycle",_.proxy(i,this)):this._cycleTimeout=setTimeout(_.proxy(i,this),t)}return this},destroy:function(t){_(w).off("resize.backstretch orientationchange.backstretch"),this.videoWrapper&&this.videoWrapper.destroy(),clearTimeout(this._cycleTimeout),t||this.$wrap.remove(),this.$container.removeData("backstretch")}};var v=function(){this.init.apply(this,arguments)};v.prototype.init=function(t){function e(){r.$video=i,r.video=i[0]}var i,r=this,a="video";if(t.url instanceof Array||!c.test(t.url)||(a="youtube"),"youtube"===(r.type=a)){v.loadYoutubeAPI(),r.ytId=t.url.match(c)[2];var o="https://www.youtube.com/embed/"+r.ytId+"?rel=0&autoplay=0&showinfo=0&controls=0&modestbranding=1&cc_load_policy=0&disablekb=1&iv_load_policy=3&loop=0&enablejsapi=1&origin="+encodeURIComponent(w.location.origin);r.__ytStartMuted=!!t.mute||t.mute===$,i=_("<iframe />").attr({src_to_load:o}).css({border:0,margin:0,padding:0}).data("player",r),t.loop&&i.on("ended.loop",function(){r.__manuallyStopped||r.play()}),r.ytReady=!1,e(),w.YT&&w.YT.loaded?(r._initYoutube(),i.trigger("initsuccess")):_(w).one("youtube_api_load",function(){r._initYoutube(),i.trigger("initsuccess")})}else{i=_("<video>").prop("autoplay",!1).prop("controls",!1).prop("loop",!!t.loop).prop("muted",!!t.mute||t.mute===$).prop("preload","auto").prop("poster",t.poster||"");for(var n=t.url instanceof Array?t.url:[t.url],s=0;s<n.length;s++){var h=n[s];"string"==typeof h&&(h={src:h}),_("<source>").attr("src",h.src).attr("type",h.type||null).appendTo(i)}i[0].canPlayType&&n.length?i.trigger("initsuccess"):i.trigger("initerror"),e()}},v.prototype._initYoutube=function(){var e=this,i=w.YT;e.$video.attr("src",e.$video.attr("src_to_load")).removeAttr("src_to_load");var t=!!e.$video[0].parentNode;if(!t){var r=_("<div>").css("display","none !important").appendTo(document.body);e.$video.appendTo(r)}var a=new i.Player(e.video,{events:{onReady:function(){e.__ytStartMuted&&a.mute(),t||(e.$video[0].parentNode===r[0]&&e.$video.detach(),r.remove()),e.ytReady=!0,e._updateYoutubeSize(),e.$video.trigger("canplay")},onStateChange:function(t){switch(t.data){case i.PlayerState.PLAYING:e.$video.trigger("playing");break;case i.PlayerState.ENDED:e.$video.trigger("ended");break;case i.PlayerState.PAUSED:e.$video.trigger("pause");break;case i.PlayerState.BUFFERING:e.$video.trigger("waiting");break;case i.PlayerState.CUED:e.$video.trigger("canplay")}},onPlaybackQualityChange:function(){e._updateYoutubeSize(),e.$video.trigger("resize")},onError:function(t){e.hasError=!0,e.$video.trigger({type:"error",error:t})}}});return e.ytPlayer=a,e},v.prototype._updateYoutubeSize=function(){var t=this;switch(t.ytPlayer.getPlaybackQuality()||"medium"){case"small":t.video.videoWidth=426,t.video.videoHeight=240;break;case"medium":t.video.videoWidth=640,t.video.videoHeight=360;break;default:case"large":t.video.videoWidth=854,t.video.videoHeight=480;break;case"hd720":t.video.videoWidth=1280,t.video.videoHeight=720;break;case"hd1080":t.video.videoWidth=1920,t.video.videoHeight=1080;break;case"highres":t.video.videoWidth=2560,t.video.videoHeight=1440}return t},v.prototype.play=function(){var t=this;return t.__manuallyStopped=!1,"youtube"===t.type?t.ytReady&&(t.$video.trigger("play"),t.ytPlayer.playVideo()):t.video.play(),t},v.prototype.pause=function(){var t=this;return t.__manuallyStopped=!1,"youtube"===t.type?t.ytReady&&t.ytPlayer.pauseVideo():t.video.pause(),t},v.prototype.stop=function(){var t=this;return t.__manuallyStopped=!0,"youtube"===t.type?t.ytReady&&(t.ytPlayer.pauseVideo(),t.ytPlayer.seekTo(0)):(t.video.pause(),t.video.currentTime=0),t},v.prototype.destroy=function(){return this.ytPlayer&&this.ytPlayer.destroy(),this.$video.remove(),this},v.prototype.getCurrentTime=function(t){return"youtube"!==this.type?this.video.currentTime:this.ytReady?this.ytPlayer.getCurrentTime():0},v.prototype.setCurrentTime=function(t){var e=this;return"youtube"===e.type?e.ytReady&&e.ytPlayer.seekTo(t,!0):e.video.currentTime=t,e},v.prototype.getDuration=function(){return"youtube"!==this.type?this.video.duration:this.ytReady?this.ytPlayer.getDuration():0},v.loadYoutubeAPI=function(){w.YT&&w.__yt_load_event_interval__||(w.YT||_("script[src*=www\\.youtube\\.com\\/iframe_api]").length||_('<script type="text/javascript" src="https://www.youtube.com/iframe_api">').appendTo("body"),w.__yt_load_event_interval__=setInterval(function(){w.YT&&w.YT.loaded&&(_(w).trigger("youtube_api_load"),clearTimeout(w.__yt_load_event_interval__),delete w.__yt_load_event_interval__)},50))};var t,a,o,n,b,W,R,Y,I,P,C=function(){if("matchMedia"in w){if(w.matchMedia("(orientation: portrait)").matches)return"portrait";if(w.matchMedia("(orientation: landscape)").matches)return"landscape"}return screen.height>screen.width?"portrait":"landscape"},S=function(){return w.innerHeight>w.innerWidth?"portrait":w.innerWidth>w.innerHeight?"landscape":"square"},z=(t=navigator.userAgent,a=navigator.platform,o=t.match(/AppleWebKit\/([0-9]+)/),n=!!o&&o[1],b=t.match(/Fennec\/([0-9]+)/),W=!!b&&b[1],R=t.match(/Opera Mobi\/([0-9]+)/),Y=!!R&&R[1],I=t.match(/MSIE ([0-9]+)/),P=!!I&&I[1],!((-1<a.indexOf("iPhone")||-1<a.indexOf("iPad")||-1<a.indexOf("iPod"))&&n&&n<534||w.operamini&&"[object OperaMini]"==={}.toString.call(w.operamini)||R&&Y<7458||-1<t.indexOf("Android")&&n&&n<533||W&&W<6||"palmGetResource"in w&&n&&n<534||-1<t.indexOf("MeeGo")&&-1<t.indexOf("NokiaBrowser/8.5.0")||P&&P<=6))}(jQuery,window);